<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guess the Number Game</title>
    <style>
        .superhero-image {
            display: none;
        }
    </style>
</head>
<body>

<h1>Guess the Number Game</h1>

<!-- Sign In Section -->
<div id="signInSection">
    <label for="username">Enter Username:</label>
    <input type="text" id="username" placeholder="Enter Username">
    <button onclick="signIn()">Sign In</button>
</div>

<!-- Multiplayer Button -->
<div id="multiplayerSection" style="display: none;">
    <button onclick="startMultiplayer()">Start Multiplayer</button>
</div>

<!-- Player Info Section -->
<div id="playerInfo" style="display: none;">
    <h2>Welcome, <span id="playerName"></span>!</h2>
    <p id="score">Score: 0</p>
    <p id="rank">Rank: Not Available</p>
    <p id="player">Your Guess:</p>
    <input type="number" id="playerGuess" min="1" max="100" placeholder="Guess a number between 1 and 100">
    <button onclick="submitGuess()">Submit Guess</button>
</div>

<!-- AI Player Section -->
<div id="aiPlayerSection">
    <p id="aiPlayer">AI's Guess: </p>
</div>

<!-- Superhero Section -->
<h3>Choose a Superhero:</h3>
<button onclick="chooseSuperhero('Iron Man')">Iron Man</button>
<button onclick="chooseSuperhero('Spider-Man')">Spider-Man</button>
<button onclick="chooseSuperhero('Captain America')">Captain America</button>

<!-- Superhero Images -->
<div id="superheroImages">
    <img src="iron-man.jpg" class="superhero-image" id="Iron ManImage">
    <img src="spider-man.jpg" class="superhero-image" id="Spider-ManImage">
    <img src="captain-america.jpg" class="superhero-image" id="Captain AmericaImage">
</div>

<script>
    let playerName = '';
    let score = 0;
    let playerRank = 'Not Available';
    let aiAnswer = Math.floor(Math.random() * 100) + 1;  // AI guesses a random number between 1-100
    let aiGuess = 0;
    let raceInProgress = false;

    // Sign In Function
    function signIn() {
        playerName = document.getElementById("username").value;
        if (playerName.trim() === "") {
            alert("Please enter a valid username.");
            return;
        }
        document.getElementById("playerName").textContent = playerName;
        document.getElementById("signInSection").style.display = "none";
        document.getElementById("playerInfo").style.display = "block";
        document.getElementById("multiplayerSection").style.display = "block";
    }

    // Multiplayer Function (currently alerts user)
    function startMultiplayer() {
        alert("Multiplayer is coming soon!");  // Show an alert instead of just an empty message
    }

    // Submit Guess Function
    function submitGuess() {
        const playerGuess = parseInt(document.getElementById("playerGuess").value);
        if (isNaN(playerGuess) || playerGuess < 1 || playerGuess > 100) {
            alert("Please enter a valid number between 1 and 100.");
            return;
        }

        if (raceInProgress) {
            alert("The race is already in progress. Wait for the next round.");
            return;
        }

        aiGuess = Math.floor(Math.random() * 100) + 1;  // AI makes a new guess for each round
        document.getElementById("playerGuess").style.display = "none";  // Hide input field when submitted
        
        raceInProgress = true;  // Start the race

        // Display AI guess (you can improve this by showing the AI's attempt dynamically)
        document.getElementById("aiPlayer").textContent = `AI's Guess: ${aiGuess}`;

        // Handle who won the race
        setTimeout(() => {
            if (playerGuess === aiGuess) {
                document.getElementById("player").textContent = "You guessed it right! You win!";
                document.getElementById("aiPlayer").textContent = "AI lost this time!";
                score += 10; // Reward points for correct guess
            } else {
                document.getElementById("player").textContent = "You guessed wrong. Better luck next time!";
                document.getElementById("aiPlayer").textContent = "AI won this round!";
            }

            document.getElementById("score").textContent = `Score: ${score}`;
            document.getElementById("rank").textContent = `Rank: ${playerRank}`;
            raceInProgress = false;  // End the race
            document.getElementById("playerGuess").style.display = "block";  // Show input again
        }, 2000);  // Show results after 2 seconds
    }

    // Handle superhero selection and images
    function chooseSuperhero(superhero) {
        const superheroImages = {
            'Iron Man': 'iron-man.jpg',
            'Spider-Man': 'spider-man.jpg',
            'Captain America': 'captain-america.jpg'
        };

        // Hide all images first
        document.querySelectorAll('.superhero-image').forEach(img => img.style.display = 'none');

        // Show selected superhero image
        document.getElementById(superhero + 'Image').style.display = 'block';
    }

    // Handle question checking
    function checkAnswers(subject) {
        const questions = getQuestions(subject);
        let correctAnswers = 0;

        questions.forEach((question, index) => {
            const userAnswer = document.getElementById(`answer-${subject}-${index}`).value.trim().toLowerCase();
            if (userAnswer === question.answer.toLowerCase()) {
                correctAnswers++;
            }
        });

        // Update score and rank based on the number of correct answers
        score += correctAnswers * 5; // Reward 5 points per correct answer
        if (correctAnswers >= 5) {
            playerRank = 'Medium';
        } else if (correctAnswers >= 3) {
            playerRank = 'Easy';
        } else {
            playerRank = 'Hard';
        }

        document.getElementById("score").textContent = `Score: ${score}`;
        document.getElementById("rank").textContent = `Rank: ${playerRank}`;
    }

</script>

</body>
</html>
